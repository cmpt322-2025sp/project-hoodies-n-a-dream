
<!--
Author: Rasheed & Keli'i
Made: 3/29/2025
Update:3/31/2025
Purpose: Finish line with podium

-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Finish</title>
<link rel="stylesheet" href="../Finishline.css">
</head>
<div id="finish"></div>
<div id="cup"></div>
<div id="track"></div>
<div>
<<<<<<< Updated upstream:frontend/FinishLine.html
    <img id="car" class="car1" src="../assets/Car1.png" alt="Car">
=======
    <img id="car" class="carfl" src="../../assets/Car1.png" alt="Car">
>>>>>>> Stashed changes:frontend/old/FinishLine.html
</div>

<body>
<script>
    let moveSpeed = 5;
    let moving = false;
    let finishLine = false;
    const targetPosition = window.innerWidth * 0.9;
    let carPosition = 20;
    let storedTime = localStorage.getItem('finalTime') || "00:00";

    // Convert stored time (e.g., "01:15") to seconds
    function timeToSeconds(timeStr) {
        const [minutes, seconds] = timeStr.split(':').map(Number);
        return minutes * 60 + seconds;
    }

    function moveCar() {
        if (moving) {
            if (carPosition >= targetPosition) {
                moving = false;
                setTimeout(() => {
                    window.location.href = "Finishscreen.html";
                }, 3000);
                return;
            }
        }
        carPosition += moveSpeed;
        car.style.left = carPosition + 'px';
        requestAnimationFrame(moveCar);
    }

    function finish() {
        const totalSeconds = timeToSeconds(storedTime);
        if (totalSeconds > 30 && totalSeconds < 60) {
            document.getElementById('car').style.top = '85%';
        } else if (totalSeconds > 60) {
            document.getElementById('car').style.top = '95%';
        }
        moving = true;
        moveCar();
    }

    window.onload = finish;
</script>
</body>
</html>